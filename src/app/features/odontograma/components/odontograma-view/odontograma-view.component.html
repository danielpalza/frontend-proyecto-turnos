<div class="odontograma-container">
  <div class="odontograma-content">

    <!-- Header -->
    <div class="odontograma-header">
      <h1><i class="bi bi-clipboard2-pulse me-2"></i>Odontograma</h1>
      <p class="text-muted">Vista dental completa del paciente</p>
    </div>

    <!-- Grid principal -->
    <div class="odontograma-grid">
      
      <!-- Sidebar izquierdo -->
      <div class="sidebar-left">
        <app-odontograma-sidebar></app-odontograma-sidebar>
      </div>

      <!-- Contenido principal -->
      <div class="odontograma-main-content">
        
        <!-- Card del odontograma -->
        <div id="odontograma-print" class="card shadow-sm">
          <div class="card-body">
            <div class="teeth-section">

              <!-- Dientes Permanentes Superiores -->
              <section>
                <p class="section-title text-primary">Dientes Permanentes</p>
                <div class="teeth-container">
                  <!-- Derecho -->
                  <div class="teeth-group">
                    <div *ngFor="let tooth of permanentTeeth.topRight" class="tooth-item">
                      <app-tooth-icon [type]="getToothType(tooth)" position="top"></app-tooth-icon>
                      <small class="tooth-number">{{ tooth }}</small>
                      <app-tooth-faces [toothNumber]="tooth"></app-tooth-faces>
                    </div>
                  </div>

                  <!-- Línea central -->
                  <div class="divider-line"></div>

                  <!-- Izquierdo -->
                  <div class="teeth-group">
                    <div *ngFor="let tooth of permanentTeeth.topLeft" class="tooth-item">
                      <app-tooth-icon [type]="getToothType(tooth)" position="top"></app-tooth-icon>
                      <small class="tooth-number">{{ tooth }}</small>
                      <app-tooth-faces [toothNumber]="tooth"></app-tooth-faces>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Dientes de Leche Superiores -->
              <section>
                <p class="section-title text-secondary">Dientes de Leche</p>
                <div class="teeth-container">
                  <!-- Derecho -->
                  <div class="teeth-group">
                    <div *ngFor="let tooth of primaryTeeth.topRight" class="tooth-item">
                      <small class="tooth-number">{{ tooth }}</small>
                      <app-tooth-faces [toothNumber]="tooth" size="sm"></app-tooth-faces>
                    </div>
                  </div>

                  <!-- Línea central -->
                  <div class="divider-line"></div>

                  <!-- Izquierdo -->
                  <div class="teeth-group">
                    <div *ngFor="let tooth of primaryTeeth.topLeft" class="tooth-item">
                      <small class="tooth-number">{{ tooth }}</small>
                      <app-tooth-faces [toothNumber]="tooth" size="sm"></app-tooth-faces>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Dientes de Leche Inferiores -->
              <section>
                <div class="teeth-container">
                  <!-- Derecho -->
                  <div class="teeth-group">
                    <div *ngFor="let tooth of primaryTeeth.bottomRight" class="tooth-item">
                      <app-tooth-faces [toothNumber]="tooth" size="sm"></app-tooth-faces>
                      <small class="tooth-number">{{ tooth }}</small>
                    </div>
                  </div>

                  <!-- Línea central -->
                  <div class="divider-line"></div>

                  <!-- Izquierdo -->
                  <div class="teeth-group">
                    <div *ngFor="let tooth of primaryTeeth.bottomLeft" class="tooth-item">
                      <app-tooth-faces [toothNumber]="tooth" size="sm"></app-tooth-faces>
                      <small class="tooth-number">{{ tooth }}</small>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Dientes Permanentes Inferiores -->
              <section>
                <div class="teeth-container">
                  <!-- Derecho -->
                  <div class="teeth-group">
                    <div *ngFor="let tooth of permanentTeeth.bottomRight" class="tooth-item">
                      <app-tooth-faces [toothNumber]="tooth"></app-tooth-faces>
                      <small class="tooth-number">{{ tooth }}</small>
                      <app-tooth-icon [type]="getToothType(tooth)" position="bottom"></app-tooth-icon>
                    </div>
                  </div>

                  <!-- Línea central -->
                  <div class="divider-line"></div>

                  <!-- Izquierdo -->
                  <div class="teeth-group">
                    <div *ngFor="let tooth of permanentTeeth.bottomLeft" class="tooth-item">
                      <app-tooth-faces [toothNumber]="tooth"></app-tooth-faces>
                      <small class="tooth-number">{{ tooth }}</small>
                      <app-tooth-icon [type]="getToothType(tooth)" position="bottom"></app-tooth-icon>
                    </div>
                  </div>
                </div>
              </section>

            </div>

            <!-- Leyenda -->
            <div class="legend-container mt-4 pt-4 border-top">
              <p class="fw-semibold mb-3">Leyenda de Estados:</p>
              <div class="row g-3">
                <div class="col-6 col-md-3 d-flex align-items-center gap-2">
                  <div class="legend-box healthy"></div>
                  <span>Sano</span>
                </div>
                <div class="col-6 col-md-3 d-flex align-items-center gap-2">
                  <div class="legend-box caries"></div>
                  <span>Caries</span>
                </div>
                <div class="col-6 col-md-3 d-flex align-items-center gap-2">
                  <div class="legend-box filling"></div>
                  <span>Obturación</span>
                </div>
                <div class="col-6 col-md-3 d-flex align-items-center gap-2">
                  <div class="legend-box missing"></div>
                  <span>Ausente</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Tabla de historial -->
        <app-patient-history-table></app-patient-history-table>
      </div>

      <!-- Sidebar derecho -->
      <div class="sidebar-right">
        <app-odontograma-actions></app-odontograma-actions>
      </div>

    </div>
  </div>
</div>

