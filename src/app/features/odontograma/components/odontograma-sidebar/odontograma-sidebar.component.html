<div class="card shadow-sm">
  <div class="card-body d-flex flex-column p-0">

    <!-- Tabs -->
    <div class="d-flex border-bottom">
      <button
        class="flex-fill py-3 px-4 border-0 tab-btn"
        [ngClass]="activeTab() === 'estado'
          ? 'text-white bg-gradient'
          : 'bg-light text-secondary hover-light'"
        (click)="setTab('estado')"
      >
        Estado
      </button>

      <button
        class="flex-fill py-3 px-4 border-0 tab-btn"
        [ngClass]="activeTab() === 'procedimientos'
          ? 'text-white bg-gradient'
          : 'bg-light text-secondary hover-light'"
        (click)="setTab('procedimientos')"
      >
        Procedimientos
      </button>
    </div>

    <!-- Scrollable content -->
    <div class="flex-grow-1 overflow-auto p-4">

      <!-- ESTADO -->
      <div *ngIf="activeTab() === 'estado'" class="options-grid">
        <button
          *ngFor="let option of estadoOptions"
          class="option-card"
          [ngClass]="selectedOptions().has(option.id) ? 'selected' : ''"
          (click)="toggleOption(option.id)"
        >
          <span class="option-label">{{ option.label }}</span>
        </button>
      </div>

      <!-- PROCEDIMIENTOS -->
      <div *ngIf="activeTab() === 'procedimientos'" class="options-grid">
        <button
          *ngFor="let option of procedimientosOptions"
          class="option-card"
          [ngClass]="selectedOptions().has(option.id) ? 'selected' : ''"
          (click)="toggleOption(option.id)"
        >
          <span class="option-label">{{ option.label }}</span>
        </button>
      </div>

    </div>

    <!-- Footer -->
    <div *ngIf="selectedOptions().size > 0" class="footer-area border-top p-3 bg-light">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <small class="text-muted">
          {{ selectedOptions().size }} opci√≥n(es) seleccionada(s)
        </small>
        <button class="btn btn-link p-0 text-primary" (click)="clearOptions()">
          Limpiar
        </button>
      </div>

      <button class="btn btn-primary w-100">
        Aplicar al diente seleccionado
      </button>
    </div>

  </div>
</div>

