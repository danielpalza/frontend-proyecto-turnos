<div class="turnos-view">
  <div class="main-layout">
    <!-- Calendario -->
    <div class="calendar-section">
      <app-month-calendar
        [currentDate]="currentDate"
        [selectedDate]="selectedDate"
        [getAppointmentsForDate]="getAppointmentsForDate"
        (dateClick)="onDateClick($event)"
        (monthChange)="onMonthChange($event)"
      />
    </div>

    <!-- Panel de turnos -->
    <div class="panel-section">
      <app-appointments-panel
        [date]="selectedDate"
        [appointments]="selectedDate ? getAppointmentsForDate(selectedDate) : []"
        (delete)="onDeleteAppointment($event)"
        (addClick)="isDialogOpen = true"
      />
    </div>
  </div>

  <!-- Dialogo -->
  <app-appointment-dialog
    *ngIf="selectedDate"
    [open]="isDialogOpen"
    [selectedDate]="selectedDate"
    [existingPatients]="existingPatients"
    [profesionales]="activeProfesionales"
    [isLoading]="isLoading"
    (openChange)="isDialogOpen = $event"
    (submitForm)="onCreateAppointment($event)"
  />
  <hr />
  <br />
  <ol>
    <li>
      Agregar logia para conectar el input de pago dentro del turno a la base de datos para que se
      sume con el pago anterior y se guarde (va a requerir actualizar el componente de nuevo)
    </li>
    <li>Agregar un botón y la logica para que se pueda editar el turno</li>
    <li>
      Agregar lógica en el front o back para evitar que se superpongan los turnos (depende de si el
      software lo va a usar un solo usuarios o va a ser multiusuarios)
    </li>
    <li>
      Agregar un boton "Ir a odontograma" o "Comenzar" para ser redireccionado al odontograma (mas
      adelante se agrega la logica del odontograma)
    </li>
  </ol>
  <br />
  <hr />
</div>
