<div class="turnos-view">
  <div class="main-layout">
    <!-- Calendario -->
    <div class="calendar-section">
      <app-month-calendar
        [currentDate]="currentDate"
        [selectedDate]="selectedDate"
        [getAppointmentsForDate]="getAppointmentsForDate"
        (dateClick)="onDateClick($event)"
        (monthChange)="onMonthChange($event)"
      />
    </div>

    <!-- Panel de turnos -->
    <div class="panel-section">
      <app-appointments-panel
        [date]="selectedDate"
        [appointments]="selectedDate ? getAppointmentsForDate(selectedDate) : []"
        (delete)="onDeleteAppointment($event)"
        (addClick)="isDialogOpen = true"
      />
    </div>
  </div>

  <!-- Dialogo -->
  <app-appointment-dialog
    *ngIf="selectedDate"
    [open]="isDialogOpen"
    [selectedDate]="selectedDate"
    [existingPatients]="existingPatients"
    [profesionales]="activeProfesionales"
    [isLoading]="isLoading"
    (openChange)="isDialogOpen = $event"
    (submitForm)="onCreateAppointment($event)"
  />
</div>

<ol>
  <strong>Primer modelo:</strong>
  <li>
    Al crear/editar turno: <br>
    - Verificar que
    el horario este libre <br>
    - Prevenir superposici√≥n <br>
    - Bloquear horarios pasados <br>
    - EDITAR/REPROGRAMAR EL TURNO <br>
    - PASAR MATEMATICAS DEL CONTEO DEL PAGO DEL TURNO AL BACKEND
  </li>
  <li>
    Seguimiento/Historial del paciente: <br>
    - Ver odontogramas asociados al turno <br>
    - Estado del pago de los turnos o modal mostrando seguimiento de pagos <br>
    - EDITAR DATOS DEL PACIENTE
  </li>
  <li>
    En el calendario mensual de turnos:
    - Filtrar por profesional <br>
    - Filtrar por paciente <br>
    - Filtrar por pagos pendientes por pagos pendientes <br>
    - Mostrar profesionales de vacaciones
  </li>
</ol>
